<?php

declare(strict_types=1);

namespace Mammatus\Cron\Generated;

/**
 * This class is generated by mammatus/cron, do not edit manually.
 * Or do, I'm not your parent, they will be overwritten next composer install/update ¯\_(ツ)_/¯.
 */
abstract readonly class AbstractList
{
    /** @return iterable<string, \Mammatus\Cron\Action> */
    final protected function crons(): iterable
    {
        {% for action in actions -%}
        /**
        * @see \{{ action.class }}
        *
        * @TODO: Drop the need for json_encode/json_decode
        */
        yield '{{ action.cron.name }}-{{ action.class|replace({'\\': '-'}) }}' => new \Mammatus\Cron\Action(
            type: \Mammatus\Cron\Action\Type::{{ action.type.name }},
            name: '{{ action.cron.name }}',
            schedule: '{{ action.cron.schedule }}',
            class: \{{ action.class }}::class,
            addOns: \json_decode('{{ action.cron.addOns|json_encode()|raw }}', true),
        );
        {% endfor -%}
        yield from [];
    }
}
